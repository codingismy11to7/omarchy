#!@bash@/bin/bash

if (($# == 0)); then
  echo "Usage: omarchy-notification-dismiss <summary>"
  exit 1
fi

# Find the first notification whose 'summary' matches the regex in $1
notification_id=$(@mako@/bin/makoctl list | @gnugrep@/bin/grep -F "$1" | head -n1 | @gnused@/bin/sed -E 's/^Notification ([0-9]+):.*/\1/')

if [[ -n $notification_id ]]; then
  @mako@/bin/makoctl dismiss -n $notification_id
fi
